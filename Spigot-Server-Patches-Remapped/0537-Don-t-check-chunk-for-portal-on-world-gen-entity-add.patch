From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sun, 5 Jul 2020 14:59:31 -0400
Subject: [PATCH] Don't check chunk for portal on world gen entity add


diff --git a/src/main/java/net/minecraft/entity/LivingEntity.java b/src/main/java/net/minecraft/entity/LivingEntity.java
index 44934e7eecb01fc33195fa0ed7bd850e73a2a9ac..b134ea3e9f0ade5a96c9c01c95188ffce981e5ea 100644
--- a/src/main/java/net/minecraft/entity/LivingEntity.java
+++ b/src/main/java/net/minecraft/entity/LivingEntity.java
@@ -3008,7 +3008,7 @@ public abstract class LivingEntity extends Entity {
         Entity entity = this.func_184187_bx();
 
         super.stopRiding(suppressCancellation); // Paper - suppress
-        if (entity != null && entity != this.func_184187_bx() && !this.field_70170_p.field_72995_K) {
+        if (entity != null && entity != this.func_184187_bx() && !this.field_70170_p.field_72995_K && entity.valid) { // Paper - don't process on world gen
             this.func_233628_a_(entity);
         }
 
