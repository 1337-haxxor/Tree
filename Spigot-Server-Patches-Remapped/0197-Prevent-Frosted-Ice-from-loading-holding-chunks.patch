From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Aikar <aikar@aikar.co>
Date: Sat, 10 Mar 2018 16:33:15 -0500
Subject: [PATCH] Prevent Frosted Ice from loading/holding chunks


diff --git a/src/main/java/net/minecraft/block/FrostedIceBlock.java b/src/main/java/net/minecraft/block/FrostedIceBlock.java
index cd46d0f5127126901829d26f36bcb70bb41ebd8d..b24873666fb7723f6ecdf61dc3544fbca8b3f20f 100644
--- a/src/main/java/net/minecraft/block/FrostedIceBlock.java
+++ b/src/main/java/net/minecraft/block/FrostedIceBlock.java
@@ -38,7 +38,8 @@ public class FrostedIceBlock extends IceBlock {
                 Direction enumdirection = aenumdirection[j];
 
                 blockposition_mutableblockposition.func_239622_a_((Vector3i) p_225534_3_, enumdirection);
-                BlockState iblockdata1 = p_225534_2_.func_180495_p(blockposition_mutableblockposition);
+                BlockState iblockdata1 = p_225534_2_.getTypeIfLoaded(blockposition_mutableblockposition); // Paper
+                if (iblockdata1 == null) { continue; } // Paper
 
                 if (iblockdata1.func_203425_a((Block) this) && !this.func_196455_e(iblockdata1, (World) p_225534_2_, blockposition_mutableblockposition)) {
                     p_225534_2_.G().func_205360_a(blockposition_mutableblockposition, this, MathHelper.func_76136_a(p_225534_4_, p_225534_2_.paperConfig.frostedIceDelayMin, p_225534_2_.paperConfig.frostedIceDelayMax)); // Paper - use configurable min/max delay
@@ -81,7 +82,9 @@ public class FrostedIceBlock extends IceBlock {
             Direction enumdirection = aenumdirection[l];
 
             blockposition_mutableblockposition.func_239622_a_((Vector3i) p_196456_2_, enumdirection);
-            if (p_196456_1_.func_180495_p(blockposition_mutableblockposition).func_203425_a((Block) this)) {
+            // Paper start
+            BlockState type = p_196456_1_.getTypeIfLoaded(blockposition_mutableblockposition);
+            if (type != null && type.func_203425_a((Block) this)) { // Paper end
                 ++j;
                 if (j >= p_196456_3_) {
                     return false;
