From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Mariell Hoversholm <proximyst@proximyst.com>
Date: Sat, 22 Aug 2020 23:59:30 +0200
Subject: [PATCH] Add #setMaxPlayers API


diff --git a/src/main/java/net/minecraft/server/management/PlayerList.java b/src/main/java/net/minecraft/server/management/PlayerList.java
index 5d607e32710ae62eab32b84ce7c4b10f2864df11..4b62cea7ab7afabac1b809d8e373803037980525 100644
--- a/src/main/java/net/minecraft/server/management/PlayerList.java
+++ b/src/main/java/net/minecraft/server/management/PlayerList.java
@@ -145,7 +145,7 @@ public abstract class PlayerList {
     public final PlayerData field_72412_k;
     private boolean field_72409_l;
     private final DynamicRegistries.Impl field_232639_s_;
-    protected final int field_72405_c;
+    protected int field_72405_c; public final void setMaxPlayers(int maxPlayers) { this.field_72405_c = maxPlayers; } // Paper - remove final and add setter
     private int field_72402_d;
     private GameType field_72410_m;
     private boolean field_72407_n;
diff --git a/src/main/java/org/bukkit/craftbukkit/CraftServer.java b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
index 5b473f5b350cc0609a81e5a84819664fb94b446f..7057aba4af0d82ff9c08db543b32bcf7fe900f03 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftServer.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
@@ -614,6 +614,13 @@ public final class CraftServer implements Server {
         return playerList.func_72352_l();
     }
 
+    // Paper start
+    @Override
+    public void setMaxPlayers(int maxPlayers) {
+        this.playerList.setMaxPlayers(maxPlayers);
+    }
+    // Paper end
+
     // NOTE: These are dependent on the corresponding call in MinecraftServer
     // so if that changes this will need to as well
     @Override
