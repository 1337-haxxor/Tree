From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Shane Freeder <theboyetronic@gmail.com>
Date: Sun, 11 Jun 2017 21:01:18 +0100
Subject: [PATCH] provide a configurable option to disable creeper lingering
 effect spawns


diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
index 0cc7ad571eba249199a2e5e8ec567a874241c903..e30f48caf2ce4f48f371b2594b765c27bc9e9778 100644
--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
+++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java
@@ -329,4 +329,10 @@ public class PaperWorldConfig {
         parrotsHangOnBetter = getBoolean("parrots-are-unaffected-by-player-movement", false);
         log("Parrots are unaffected by player movement: " + parrotsHangOnBetter);
     }
+
+    public boolean disableCreeperLingeringEffect;
+    private void setDisableCreeperLingeringEffect() {
+        disableCreeperLingeringEffect = getBoolean("disable-creeper-lingering-effect", false);
+        log("Creeper lingering effect: " + disableCreeperLingeringEffect);
+    }
 }
diff --git a/src/main/java/net/minecraft/entity/monster/CreeperEntity.java b/src/main/java/net/minecraft/entity/monster/CreeperEntity.java
index d305413f81b666529a9dbdb5ee5ef963e4b88257..887d809318df04aa4157b43d20b63deba11b183d 100644
--- a/src/main/java/net/minecraft/entity/monster/CreeperEntity.java
+++ b/src/main/java/net/minecraft/entity/monster/CreeperEntity.java
@@ -260,7 +260,7 @@ public class CreeperEntity extends MonsterEntity {
     private void func_190741_do() {
         Collection<EffectInstance> collection = this.func_70651_bq();
 
-        if (!collection.isEmpty()) {
+        if (!collection.isEmpty() && !field_70170_p.paperConfig.disableCreeperLingeringEffect) { // Paper
             AreaEffectCloudEntity entityareaeffectcloud = new AreaEffectCloudEntity(this.field_70170_p, this.func_226277_ct_(), this.func_226278_cu_(), this.func_226281_cx_());
 
             entityareaeffectcloud.func_184481_a(this); // CraftBukkit
